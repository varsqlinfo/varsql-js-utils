!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VARSQLUtils=t():e.VARSQLUtils=t()}(self,(()=>(()=>{"use strict";var e={754:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_END_SPLITTER=t.CREATE_END_CHECK_KEYWORD=t.DEFAULT_TEXT_CHECK_TOKEN=t.TAB_CHAR=t.LINE_CHAR=void 0;var o=r(n(366)),i=r(n(973)),a=r(n(977)),u=r(n(183)),c=r(n(402));t.LINE_CHAR="\n",t.TAB_CHAR="\t",t.DEFAULT_TEXT_CHECK_TOKEN={"'":{keepWord:!0,checkEnd:function(e,t,n){return"\\"!=e&&"'"==t}},'"':{keepWord:!0,checkEnd:function(e,t,n){return"\\"!=e&&'"'==t}},"--":{keepWord:!0,endToken:t.LINE_CHAR},"/*":{keepWord:!0,endToken:"*/"},"#{":{keepWord:!0,endToken:"}"},"${":{keepWord:!0,endToken:"}"}},t.CREATE_END_CHECK_KEYWORD={if:{end:"if"},loop:{end:"loop"},case:{end:""}},t.DEFAULT_END_SPLITTER={default:new c.default,create:new o.default,create_function:new i.default(t.CREATE_END_CHECK_KEYWORD),create_trigger:new a.default(t.CREATE_END_CHECK_KEYWORD),create_procedure:new u.default(t.CREATE_END_CHECK_KEYWORD)}},402:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(754),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lineCount=0}var t,n;return t=e,(n=[{key:"init",value:function(){this.lineCount=0}},{key:"checkEnd",value:function(e,t,n,r,i,a){return/\s/.test(n)?(this.lineCount>0&&n==o.LINE_CHAR?this.lineCount+=1:n==o.LINE_CHAR&&(this.lineCount=1),this.lineCount>2):(this.lineCount=0,r==o.LINE_CHAR&&r==n||";"==n)}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=i},505:(e,t)=>{function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.EndCheckTokenInfo=void 0;var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tokens={},this.tokens=t}var t,r;return t=e,(r=[{key:"put",value:function(e,t){return this.tokens[e]=t,this}},{key:"hasKey",value:function(e){return this.tokens.hasOwnProperty(e)}},{key:"get",value:function(e){var t=this.tokens[e];return t.init(),t}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.EndCheckTokenInfo=r},133:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(987),i=n(754),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cfg=t;var n=this.checker();this.textChecker=n.textChecker,this.endChecker=n.endChecker}var t,n;return t=e,(n=[{key:"checker",value:function(){throw new Error("checker() not implemented by subclass")}},{key:"split",value:function(e,t,n){t=void 0===t?-1:t,n=void 0===n?-1:n;for(var r,a,u=[],c=[],s=0,f=e.length,l=0,h=0,d=0,p="",y="",k=!1,b="",v="",_="",g=null,C=null,E="",w=0,O=!1,m=!1,T=0;T<f;T++){if(r=p,y=(y=(p=(a=e.charAt(T)).toLowerCase())+(T+1<f?e.charAt(T+1):"0")).toLowerCase(),p==i.LINE_CHAR&&(w=T,++l),p==r){if(++s>1e3){console.log("split error");break}}else s=0;if(null==C)if(this.textChecker.hasKey(y)||this.textChecker.hasKey(p))!1!==(C=this.textChecker.get(y)||this.textChecker.get(p)).keepWord&&c.push(a);else{if(c.push(a),/[\s(]/.test(p))k&&(k=!1),_=v,v="";else{if(""==b){if(/[;/!@#$%^&()+=?\-]/.test(p))continue;h=l,d=T-w,k=!0}k&&(b+=p),v+=p}if(!1===k&&null==g&&""!=b?(E=b,g=this.endChecker.hasKey(b)?this.endChecker.get(b):this.endChecker.get("default")):this.endChecker.hasKey(E+"_"+v)&&(E=E+"_"+v,g=this.endChecker.get(E)),!m&&!O&&-1!=t&&l>=t&&n<=T-w&&(O=!0,""==b.trim()&&u.length>0)){var P=e.indexOf(i.LINE_CHAR,T+1);if(P>-1){var j=e.substring(T+1,P),S=(j=(0,o.trim)(j)).charAt(0);if(""!=j&&!/[;/!@#$%^&()+=?\-]/.test(S)){m=!0;continue}}return[u[u.length-1]]}if(g&&g.checkEnd(v,_,p,r,T,e)||T+1==f){var K={command:b,startLine:h,startCharPos:d,endLine:l,endCharPos:T-w,statement:c.join("")};if(O)return[K];if(-1!=t&&h<=t&&t<=l){if(h!=l||t!=l)return[K];if(d<=n&&n<=K.endCharPos)return[K]}u.push(K),b="",c=[],g=null,k=!1}}else{var R=!1;C.checkEnd&&C.checkEnd(r,p,y)?R=!0:C.endToken!=y&&C.endToken!=p||(R=!0),R?(!1===C.keepWord?T+=C.endToken?C.endToken.length-1:0:c.push(a),C=null):!1!==C.keepWord&&c.push(a)}}return u}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=a},425:(e,t)=>{function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.TextCheckTokenInfo=void 0;var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tokens=t}var t,r;return t=e,(r=[{key:"put",value:function(e,t){return this.tokens[e]=t,this}},{key:"hasKey",value:function(e){return this.tokens.hasOwnProperty(e)}},{key:"get",value:function(e){return this.tokens[e]}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.TextCheckTokenInfo=r},366:(e,t)=>{function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.idx=0}var t,r;return t=e,(r=[{key:"init",value:function(){this.idx=0}},{key:"checkEnd",value:function(e,t,n,r,o,i){return"/"==n||";"==n}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=r},973:(e,t)=>{function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.begin=!1,this.endFlag=!1,this.tokenStack=[],this.endCheckKeywords=t}var t,r;return t=e,(r=[{key:"init",value:function(){this.begin=!1,this.endFlag=!1,this.tokenStack=[]}},{key:"checkEnd",value:function(e,t,n,r,o,i){if("begin"==e)this.begin=!0;else if(this.endCheckKeywords.hasOwnProperty(e))"end"==t?this.tokenStack.pop():this.tokenStack.push(this.endCheckKeywords[e]);else if("end"==e){var a=this.tokenStack[this.tokenStack.length-1];a&&""==a.end&&this.tokenStack.pop(),this.endFlag=0==this.tokenStack.length}return!(!this.begin||!this.endFlag||";"!=n)}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=r},183:(e,t)=>{function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.begin=!1,this.endFlag=!1,this.tokenStack=[],this.endCheckKeywords=t}var t,r;return t=e,(r=[{key:"init",value:function(){this.begin=!1,this.endFlag=!1,this.tokenStack=[]}},{key:"checkEnd",value:function(e,t,n,r,o,i){if("begin"==e)this.begin=!0;else if(this.endCheckKeywords.hasOwnProperty(e))"end"==t?this.tokenStack.pop():this.tokenStack.push(this.endCheckKeywords[e]);else if("end"==e){var a=this.tokenStack[this.tokenStack.length-1];a&&""==a.end&&this.tokenStack.pop(),this.endFlag=0==this.tokenStack.length}return!(!this.begin||!this.endFlag||";"!=n)}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=r},977:(e,t)=>{function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.begin=!1,this.endFlag=!1,this.tokenStack=[],this.endCheckKeywords=t}var t,r;return t=e,(r=[{key:"init",value:function(){this.begin=!1,this.endFlag=!1,this.tokenStack=[]}},{key:"checkEnd",value:function(e,t,n,r,o,i){if("begin"==e)this.begin=!0;else if(this.endCheckKeywords.hasOwnProperty(e))"end"==t?this.tokenStack.pop():this.tokenStack.push(this.endCheckKeywords[e]);else if("end"==e){var a=this.tokenStack[this.tokenStack.length-1];a&&""==a.end&&this.tokenStack.pop(),this.endFlag=0==this.tokenStack.length}return!(!this.begin||!this.endFlag||";"!=n)}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=r},861:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function u(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=n(754),l=s(n(133)),h=n(425),d=n(505),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(p,e);var t,n,r,s,l=(r=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(r);if(s){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function p(){return o(this,p),l.apply(this,arguments)}return t=p,(n=[{key:"checker",value:function(){return{textChecker:new h.TextCheckTokenInfo(f.DEFAULT_TEXT_CHECK_TOKEN),endChecker:new d.EndCheckTokenInfo(f.DEFAULT_END_SPLITTER)}}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(l.default);t.default=p},820:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(130),t),o(n(368),t)},368:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},130:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.split=void 0;var i={standard:o(n(861)).default},a={language:"standard",keepComment:!0,findLine:-1,findCharPos:-1};t.split=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw new Error("Invalid sql argument. Expected string, instead got "+r(e));var n=Object.assign(Object.assign({},a),t),o=i[n.language];return new o(n).split(e,t.findLine,t.findCharPos)}},987:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.equalizeWhitespace=t.trim=t.isNumber=void 0,t.isNumber=function(e){return"number"==typeof e},t.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},t.equalizeWhitespace=function(e){return(0,t.trim)(e).replace(/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+/g," ")}}},t={};return function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(820)})()));
//# sourceMappingURL=varsql.db.util.min.js.map